# Телеграм бот для продажи пиццы

Бот позволяет автоматизировать процесс продажи морепродуктов. В боте интегрирована API [Elasticpath](https://euwest.cm.elasticpath.com/).

Бот имеет следующие возможности:

- Просмотр список товаров с пагинацией;
- Подробный просмотр товара с его описанием и ценой;
- Добавление товара в корзину;
- Удаление товара из корзины;
- Выбор способа доставки в зависимости от адреса доставки:
  - Самовывоз;
  - Доставка курьером:
    - Отправка уведомления курьеру с геолокацией адреса доставки;
    - Запуск отложенного уведомления через час после заказа;
- Оплата заказа картой;

## Как запустить

- Скачайте код:
```shell
$ git clone https://github.com/Alex-Men-VL/sell_pizza.git
$ cd sell_pizza
```
- Установите зависимости:
```shell
$ pip install -r requirements.txt
```
- Запустите бота:
```shell
$ python3 tg_bot.py
```

## Переменные окружения

Часть данных берется из переменных окружения. Чтобы их определить, создайте файл `.env` в корне проекта и запишите 
туда данные в таком формате: `ПЕРЕМЕННАЯ=значение`

Доступно `7` обязательных переменных:

- `TG_BOT_TOKEN` - токен телеграм бота. Чтобы его получить, напишите в Telegram специальному боту: BotFather;
- `TG_DEV_CHAT_ID` - id пользователя в телеграм, кому будут приходить сообщения с ошибками;
- `TELEGRAM_DEV_BOT_TOKEN` - токен телеграм бота, который будет присылать сообщения с логами пользователю, id которого 
  указан в переменной `TG_DEV_CHAT_ID`;
- `PAYMENT_PROVIDER_TOKEN` - токен провайдера платежей. 
[Как получить](https://yookassa.ru/docs/support/payments/onboarding/integration/cms-module/telegram) на примере `ЮKassa`.
- `YANDEX_API_KEY` - API ключ Яндекс-геокодера. [Как получить](https://developer.tech.yandex.ru/services/).
- Настройки для [ElasticPath](https://euwest.cm.elasticpath.com/):
  - `CLIENT_ID` - id клиента;
  - `CLIENT_SECRET` - секретный ключ клиента;

## Пример работы бота

![телеграм бот](.github/tg.gif)

## Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).